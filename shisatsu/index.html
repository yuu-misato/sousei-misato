<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>視察レポート一覧 | 創政MISATO</title>
    <meta name="description" content="創政MISATOの行政視察レポート一覧。コンパクトシティ、公共交通、防災など、全国の先進事例を現地で学んだ記録です。">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://sousei-misato.com/shisatsu/">

    <meta property="og:type" content="website">
    <meta property="og:title" content="視察レポート一覧 | 創政MISATO">
    <meta property="og:description" content="創政MISATOの行政視察レポート一覧。全国の先進自治体を視察し、三郷市への政策提言に活かします。">
    <meta property="og:url" content="https://sousei-misato.com/shisatsu/">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --navy: #1e3a5f;
            --teal: #0d9488;
            --teal-light: #2dd4bf;
            --white: #ffffff;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
        }

        body {
            font-family: 'Noto Sans JP', sans-serif;
            background: var(--gray-50);
            color: var(--gray-800);
            line-height: 1.7;
        }

        /* Header */
        .header {
            background: var(--white);
            border-bottom: 1px solid var(--gray-200);
            padding: 0 2rem;
            height: 64px;
            display: flex;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(20px);
        }

        .header-inner {
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            color: var(--gray-800);
        }

        .header-logo img {
            width: 36px;
            height: 36px;
        }

        .header-logo span {
            font-weight: 700;
            font-size: 1rem;
        }

        .header-back {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--gray-500);
            text-decoration: none;
            font-size: 0.875rem;
            transition: color 0.2s;
        }

        .header-back:hover {
            color: var(--teal);
        }

        /* Hero */
        .hero {
            background: linear-gradient(135deg, var(--gray-900) 0%, #0f172a 100%);
            color: var(--white);
            padding: 5rem 2rem 4rem;
            text-align: center;
        }

        .hero-label {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--teal-light);
            letter-spacing: 0.3em;
            margin-bottom: 1.5rem;
        }

        .hero h1 {
            font-size: clamp(1.75rem, 5vw, 2.5rem);
            font-weight: 900;
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: 1rem;
            color: var(--gray-400);
            max-width: 600px;
            margin: 0 auto 2rem;
        }

        .hero-stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            flex-wrap: wrap;
        }

        .hero-stat {
            text-align: center;
        }

        .hero-stat-number {
            font-size: 2rem;
            font-weight: 900;
            color: var(--teal-light);
        }

        .hero-stat-label {
            font-size: 0.75rem;
            color: var(--gray-400);
            margin-top: 0.25rem;
        }

        /* Filter Section */
        .filter-section {
            max-width: 1200px;
            margin: -2rem auto 0;
            padding: 0 2rem;
            position: relative;
            z-index: 10;
        }

        .filter-card {
            background: var(--white);
            border-radius: 16px;
            padding: 1.5rem 2rem;
            box-shadow: 0 4px 24px rgba(0,0,0,0.08);
        }

        .filter-row {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .filter-label {
            font-size: 0.7rem;
            font-weight: 600;
            color: var(--gray-400);
            letter-spacing: 0.1em;
        }

        .filter-tags {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .filter-tag {
            padding: 0.375rem 0.875rem;
            border-radius: 999px;
            font-size: 0.8125rem;
            font-weight: 500;
            border: 1px solid var(--gray-200);
            background: var(--white);
            color: var(--gray-600);
            cursor: pointer;
            transition: all 0.2s;
            user-select: none;
        }

        .filter-tag:hover {
            border-color: var(--teal);
            color: var(--teal);
        }

        .filter-tag.active {
            background: var(--teal);
            border-color: var(--teal);
            color: var(--white);
        }

        .filter-divider {
            width: 1px;
            height: 40px;
            background: var(--gray-200);
            margin: 0 0.5rem;
        }

        .filter-reset {
            margin-left: auto;
            font-size: 0.8125rem;
            color: var(--gray-400);
            cursor: pointer;
            border: none;
            background: none;
            transition: color 0.2s;
            display: none;
        }

        .filter-reset.show {
            display: inline;
        }

        .filter-reset:hover {
            color: var(--teal);
        }

        /* Results */
        .results-section {
            max-width: 1200px;
            margin: 2rem auto 4rem;
            padding: 0 2rem;
        }

        .results-count {
            font-size: 0.875rem;
            color: var(--gray-400);
            margin-bottom: 1.5rem;
        }

        .results-count strong {
            color: var(--gray-800);
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 1.5rem;
        }

        /* Report Card */
        .report-card {
            background: var(--white);
            border-radius: 16px;
            overflow: hidden;
            text-decoration: none;
            color: inherit;
            transition: box-shadow 0.3s, transform 0.3s;
            display: flex;
            flex-direction: column;
        }

        .report-card:hover {
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .report-card-image {
            aspect-ratio: 16/9;
            background: var(--gray-900);
            overflow: hidden;
            position: relative;
        }

        .report-card-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s;
        }

        .report-card:hover .report-card-image img {
            transform: scale(1.05);
        }

        .report-card-area {
            position: absolute;
            top: 0.75rem;
            left: 0.75rem;
            background: rgba(0,0,0,0.6);
            backdrop-filter: blur(8px);
            color: var(--white);
            font-size: 0.75rem;
            font-weight: 600;
            padding: 0.25rem 0.75rem;
            border-radius: 999px;
        }

        .report-card-body {
            padding: 1.5rem;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .report-card-tags {
            display: flex;
            gap: 0.375rem;
            flex-wrap: wrap;
            margin-bottom: 0.75rem;
        }

        .report-card-tag {
            font-size: 0.6875rem;
            font-weight: 600;
            color: var(--teal);
            background: rgba(13, 148, 136, 0.1);
            padding: 0.1875rem 0.625rem;
            border-radius: 999px;
        }

        .report-card-title {
            font-size: 1.125rem;
            font-weight: 800;
            color: var(--gray-900);
            margin-bottom: 0.5rem;
            line-height: 1.5;
        }

        .report-card-desc {
            font-size: 0.875rem;
            color: var(--gray-500);
            margin-bottom: 1rem;
            flex: 1;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .report-card-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.75rem;
            color: var(--gray-400);
            padding-top: 1rem;
            border-top: 1px solid var(--gray-100);
        }

        .report-card-meta-left {
            display: flex;
            align-items: center;
            gap: 0.375rem;
        }

        .report-card-meta-left svg {
            width: 14px;
            height: 14px;
        }

        .report-card-arrow {
            color: var(--teal);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .report-card-arrow svg {
            width: 14px;
            height: 14px;
            transition: transform 0.2s;
        }

        .report-card:hover .report-card-arrow svg {
            transform: translateX(3px);
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--gray-400);
        }

        .empty-state svg {
            width: 48px;
            height: 48px;
            stroke: var(--gray-300);
            margin-bottom: 1rem;
        }

        .empty-state h3 {
            font-size: 1.125rem;
            color: var(--gray-600);
            margin-bottom: 0.5rem;
        }

        /* Footer */
        .footer {
            background: var(--gray-900);
            color: var(--gray-400);
            text-align: center;
            padding: 3rem 2rem;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .footer-logo img {
            width: 32px;
            height: 32px;
            filter: brightness(0) invert(1);
        }

        .footer-logo span {
            color: var(--white);
            font-weight: 700;
        }

        .footer-copy {
            font-size: 0.75rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero {
                padding: 3rem 1.5rem 3rem;
            }

            .hero-stats {
                gap: 2rem;
            }

            .filter-section {
                padding: 0 1rem;
            }

            .filter-card {
                padding: 1.25rem;
            }

            .filter-row {
                flex-direction: column;
                align-items: stretch;
            }

            .filter-divider {
                width: 100%;
                height: 1px;
                margin: 0.5rem 0;
            }

            .filter-reset {
                margin-left: 0;
            }

            .results-section {
                padding: 0 1rem;
            }

            .results-grid {
                grid-template-columns: 1fr;
            }

            .header {
                padding: 0 1rem;
            }
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="header-inner">
            <a href="../index.html" class="header-logo">
                <img src="../logo.png" alt="創政MISATO">
                <span>創政MISATO</span>
            </a>
            <a href="../index.html" class="header-back">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                トップページ
            </a>
        </div>
    </header>

    <!-- Hero -->
    <section class="hero">
        <div class="hero-label">INSPECTION REPORTS</div>
        <h1>視察レポート</h1>
        <p>創政MISATOが実施した行政視察の記録。<br>全国の先進事例を現地で学び、三郷市の政策に活かします。</p>
        <div class="hero-stats">
            <div class="hero-stat">
                <div class="hero-stat-number" id="totalCount">1</div>
                <div class="hero-stat-label">視察レポート</div>
            </div>
            <div class="hero-stat">
                <div class="hero-stat-number" id="areaCount">1</div>
                <div class="hero-stat-label">訪問自治体</div>
            </div>
            <div class="hero-stat">
                <div class="hero-stat-number" id="themeCount">3</div>
                <div class="hero-stat-label">テーマ</div>
            </div>
        </div>
    </section>

    <!-- Filter -->
    <div class="filter-section">
        <div class="filter-card">
            <div class="filter-row">
                <div class="filter-group">
                    <div class="filter-label">テーマ</div>
                    <div class="filter-tags" id="themeTags"></div>
                </div>
                <div class="filter-divider"></div>
                <div class="filter-group">
                    <div class="filter-label">エリア</div>
                    <div class="filter-tags" id="areaTags"></div>
                </div>
                <button class="filter-reset" id="filterReset">リセット</button>
            </div>
        </div>
    </div>

    <!-- Results -->
    <section class="results-section">
        <div class="results-count" id="resultsCount"></div>
        <div class="results-grid" id="resultsGrid"></div>
        <div class="empty-state" id="emptyState" style="display:none;">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="11" cy="11" r="8"/>
                <line x1="21" y1="21" x2="16.65" y2="16.65"/>
            </svg>
            <h3>該当するレポートがありません</h3>
            <p>フィルターを変更してください</p>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-logo">
            <img src="../logo.png" alt="創政MISATO">
            <span>創政MISATO</span>
        </div>
        <p class="footer-copy">&copy; 2026 創政MISATO - 三郷市議会 会派</p>
    </footer>

    <script>
        // === 視察データ ===
        // 新しい視察を追加するときは、この配列にオブジェクトを追加するだけ
        const reports = [
            {
                title: '米子市視察報告 — コンパクトシティの未来を探る',
                description: '立地適正化計画を策定し「歩いて暮らせるまち」を実現する米子市。都市機能の集約、自動運転バス、県との施設合築など、三郷市と同規模の自治体が挑む先進的なまちづくりを現地で学びました。',
                url: '2026yonago/',
                image: '../images/yonago/yonagoeki.jpeg',
                date: '2026-01-28',
                area: '中国',
                prefecture: '鳥取県',
                city: '米子市',
                themes: ['コンパクトシティ', '公共交通', '立地適正化計画'],
                members: 4,
                cost: '54,190円/人',
            },
            // ===  新しい視察を追加する場合のテンプレート ===
            // {
            //     title: '視察タイトル',
            //     description: '概要説明',
            //     url: 'フォルダ名/',
            //     image: '../images/フォルダ/画像.jpg',
            //     date: 'YYYY-MM-DD',
            //     area: 'エリア名（関東/中部/近畿/中国/etc）',
            //     prefecture: '都道府県',
            //     city: '市区町村',
            //     themes: ['テーマ1', 'テーマ2'],
            //     members: 人数,
            //     cost: '金額/人',
            // },
        ];

        // === フィルター生成 ===
        const allThemes = [...new Set(reports.flatMap(r => r.themes))].sort();
        const allAreas = [...new Set(reports.map(r => r.area))].sort();

        let activeThemes = new Set();
        let activeAreas = new Set();

        const themeTags = document.getElementById('themeTags');
        const areaTags = document.getElementById('areaTags');
        const resultsGrid = document.getElementById('resultsGrid');
        const resultsCount = document.getElementById('resultsCount');
        const emptyState = document.getElementById('emptyState');
        const filterReset = document.getElementById('filterReset');

        function createTag(text, container, activeSet) {
            const tag = document.createElement('span');
            tag.className = 'filter-tag';
            tag.textContent = text;
            tag.addEventListener('click', () => {
                if (activeSet.has(text)) {
                    activeSet.delete(text);
                    tag.classList.remove('active');
                } else {
                    activeSet.add(text);
                    tag.classList.add('active');
                }
                render();
            });
            container.appendChild(tag);
            return tag;
        }

        const themeTagEls = allThemes.map(t => createTag(t, themeTags, activeThemes));
        const areaTagEls = allAreas.map(a => createTag(a, areaTags, activeAreas));

        filterReset.addEventListener('click', () => {
            activeThemes.clear();
            activeAreas.clear();
            themeTagEls.forEach(el => el.classList.remove('active'));
            areaTagEls.forEach(el => el.classList.remove('active'));
            render();
        });

        // === レンダリング ===
        function formatDate(dateStr) {
            const d = new Date(dateStr);
            return `${d.getFullYear()}年${d.getMonth()+1}月${d.getDate()}日`;
        }

        function render() {
            const filtered = reports.filter(r => {
                const themeMatch = activeThemes.size === 0 || r.themes.some(t => activeThemes.has(t));
                const areaMatch = activeAreas.size === 0 || activeAreas.has(r.area);
                return themeMatch && areaMatch;
            });

            filterReset.classList.toggle('show', activeThemes.size > 0 || activeAreas.size > 0);

            resultsCount.innerHTML = `<strong>${filtered.length}</strong> 件の視察レポート`;

            if (filtered.length === 0) {
                resultsGrid.style.display = 'none';
                emptyState.style.display = '';
                return;
            }

            resultsGrid.style.display = '';
            emptyState.style.display = 'none';

            resultsGrid.innerHTML = filtered.map(r => `
                <a href="${r.url}" class="report-card">
                    <div class="report-card-image">
                        <img src="${r.image}" alt="${r.city}" loading="lazy">
                        <span class="report-card-area">${r.prefecture} ${r.city}</span>
                    </div>
                    <div class="report-card-body">
                        <div class="report-card-tags">
                            ${r.themes.map(t => `<span class="report-card-tag">${t}</span>`).join('')}
                        </div>
                        <h3 class="report-card-title">${r.title}</h3>
                        <p class="report-card-desc">${r.description}</p>
                        <div class="report-card-meta">
                            <div class="report-card-meta-left">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                                    <line x1="16" y1="2" x2="16" y2="6"/>
                                    <line x1="8" y1="2" x2="8" y2="6"/>
                                    <line x1="3" y1="10" x2="21" y2="10"/>
                                </svg>
                                ${formatDate(r.date)}　｜　${r.members}名参加　｜　${r.cost}
                            </div>
                            <span class="report-card-arrow">
                                詳細
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M5 12h14M12 5l7 7-7 7"/>
                                </svg>
                            </span>
                        </div>
                    </div>
                </a>
            `).join('');
        }

        render();
    </script>
</body>
</html>
