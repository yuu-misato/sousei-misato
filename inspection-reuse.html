<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>東埼玉資源環境組合 視察報告 | 創政MISATO</title>
    <meta name="description" content="創政MISATOによる東埼玉資源環境組合 第一工場（リユース）視察報告。視察の目的、経費、学び、成果を透明に公開。">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --navy: #1e3a5f;
            --green: #10b981;
            --green-light: #34d399;
            --green-dark: #059669;
            --amber: #f59e0b;
            --red: #ef4444;
            --white: #ffffff;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-800: #1f2937;
            --gray-900: #111827;
        }

        html {
            scroll-behavior: auto;
        }

        body {
            font-family: 'Noto Sans JP', sans-serif;
            background: var(--white);
            color: var(--gray-800);
            line-height: 1.7;
            overflow-x: hidden;
        }

        /* Progress Bar */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--green), var(--green-light));
            z-index: 1000;
            width: 0%;
            transition: width 0.05s linear;
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 64px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            z-index: 100;
            display: flex;
            align-items: center;
            padding: 0 2rem;
            border-bottom: 1px solid var(--gray-200);
            transform: translateY(-100%);
            transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .header.visible {
            transform: translateY(0);
        }

        .header-inner {
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            color: var(--gray-800);
        }

        .header-logo img {
            width: 36px;
            height: 36px;
        }

        .header-logo span {
            font-weight: 700;
            font-size: 1rem;
        }

        .header-back {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--gray-500);
            text-decoration: none;
            font-size: 0.875rem;
            transition: color 0.3s;
        }

        .header-back:hover {
            color: var(--green);
        }

        /* Hero Section - 初回表示でアニメーション */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--gray-900) 0%, #1a1a2e 100%);
            color: var(--white);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="1" fill="%2310b981" opacity="0.3"/></svg>') repeat;
            background-size: 50px 50px;
            animation: heroPattern 20s linear infinite;
        }

        @keyframes heroPattern {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        .hero-content {
            text-align: center;
            max-width: 1000px;
            padding: 0 2rem;
            position: relative;
            z-index: 1;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(16, 185, 129, 0.2);
            border: 1px solid var(--green);
            padding: 0.5rem 1rem;
            border-radius: 30px;
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--green-light);
            margin-bottom: 2rem;
            animation: fadeInUp 0.8s ease-out 0.2s both;
        }

        .hero-title {
            font-size: clamp(2.5rem, 8vw, 5rem);
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 1.5rem;
            animation: fadeInUp 0.8s ease-out 0.4s both;
        }

        .hero-title .highlight {
            color: var(--green);
        }

        .hero-meta {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            margin-bottom: 2rem;
            animation: fadeInUp 0.8s ease-out 0.6s both;
        }

        .hero-meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--gray-400);
            font-size: 0.875rem;
        }

        .hero-meta-item svg {
            width: 18px;
            height: 18px;
            stroke: var(--green);
        }

        .hero-subtitle {
            font-size: 1.125rem;
            color: var(--gray-400);
            max-width: 600px;
            margin: 0 auto;
            animation: fadeInUp 0.8s ease-out 0.8s both;
        }

        .scroll-indicator {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            color: var(--gray-500);
            font-size: 0.625rem;
            letter-spacing: 0.2em;
            animation: fadeInUp 0.8s ease-out 1s both;
        }

        .scroll-indicator .arrow {
            width: 24px;
            height: 24px;
            border-right: 2px solid var(--green);
            border-bottom: 2px solid var(--green);
            transform: rotate(45deg);
            animation: scrollArrow 1.5s infinite;
        }

        @keyframes scrollArrow {
            0%, 100% { transform: rotate(45deg) translate(0, 0); opacity: 1; }
            50% { transform: rotate(45deg) translate(5px, 5px); opacity: 0.5; }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Pinned Section - スクロールジャック用 */
        .pinned-section {
            position: relative;
            height: 300vh;
        }

        .pinned-content {
            position: sticky;
            top: 0;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        /* Stats Pinned Section */
        .stats-pinned {
            background: linear-gradient(135deg, var(--gray-900) 0%, #0f172a 100%);
        }

        .stats-pinned .pinned-content {
            flex-direction: column;
            padding: 2rem;
        }

        .stats-container {
            max-width: 1200px;
            width: 100%;
            text-align: center;
        }

        .stats-label {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--green-light);
            letter-spacing: 0.3em;
            margin-bottom: 1rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease-out;
        }

        .stats-label.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .stats-title {
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: 900;
            color: var(--white);
            margin-bottom: 4rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease-out 0.1s;
        }

        .stats-title.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 3rem;
        }

        .stat-item {
            text-align: center;
            opacity: 0;
            transform: translateY(40px) scale(0.9);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .stat-item.visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .stat-item:nth-child(2) { transition-delay: 0.15s; }
        .stat-item:nth-child(3) { transition-delay: 0.3s; }
        .stat-item:nth-child(4) { transition-delay: 0.45s; }

        .stat-number {
            font-size: clamp(3rem, 10vw, 6rem);
            font-weight: 900;
            color: var(--green);
            line-height: 1;
            position: relative;
        }

        .stat-number .counter {
            display: inline-block;
        }

        .stat-unit {
            font-size: 1rem;
            font-weight: 500;
            color: var(--gray-400);
            margin-top: 0.5rem;
        }

        .stat-label {
            font-size: 0.875rem;
            color: var(--gray-500);
            margin-top: 1rem;
        }

        /* Budget Pinned Section */
        .budget-pinned {
            background: var(--white);
        }

        .budget-pinned .pinned-content {
            flex-direction: column;
            padding: 2rem;
        }

        .budget-container {
            max-width: 900px;
            width: 100%;
            text-align: center;
        }

        .budget-label {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--green);
            letter-spacing: 0.3em;
            margin-bottom: 1rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease-out;
        }

        .budget-label.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .budget-title {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            font-weight: 900;
            color: var(--gray-900);
            margin-bottom: 3rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease-out 0.1s;
        }

        .budget-title.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .budget-big-number {
            font-size: clamp(5rem, 20vw, 12rem);
            font-weight: 900;
            color: var(--green);
            line-height: 1;
            margin-bottom: 1rem;
            opacity: 0;
            transform: scale(0.5);
            transition: all 1s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .budget-big-number.visible {
            opacity: 1;
            transform: scale(1);
        }

        .budget-big-number span {
            font-size: 0.3em;
            color: var(--gray-500);
        }

        .budget-subtitle {
            font-size: 1.25rem;
            color: var(--gray-600);
            margin-bottom: 3rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease-out 0.3s;
        }

        .budget-subtitle.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .budget-breakdown {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .budget-item {
            background: var(--gray-50);
            padding: 1.5rem;
            border-radius: 16px;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease-out;
        }

        .budget-item.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .budget-item:nth-child(2) { transition-delay: 0.1s; }
        .budget-item:nth-child(3) { transition-delay: 0.2s; }

        .budget-item-label {
            font-size: 0.875rem;
            color: var(--gray-500);
            margin-bottom: 0.25rem;
        }

        .budget-item-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gray-900);
        }

        .budget-note {
            background: rgba(16, 185, 129, 0.1);
            padding: 1.5rem;
            border-radius: 12px;
            border-left: 4px solid var(--green);
            text-align: left;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease-out 0.4s;
        }

        .budget-note.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .budget-note p {
            font-size: 0.9375rem;
            color: var(--gray-600);
            line-height: 1.8;
        }

        /* Section Base */
        .section {
            padding: 100px 2rem;
        }

        .section-inner {
            max-width: 1000px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-label {
            display: inline-block;
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 0.3em;
            color: var(--green);
            margin-bottom: 1rem;
        }

        .section-title {
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: 900;
            color: var(--gray-900);
        }

        /* Overview Section */
        .overview {
            background: var(--gray-50);
        }

        .overview-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1px;
            background: var(--gray-200);
            border-radius: 16px;
            overflow: hidden;
        }

        .overview-item {
            background: var(--white);
            padding: 2rem;
            text-align: center;
        }

        .overview-item-icon {
            width: 48px;
            height: 48px;
            margin: 0 auto 1rem;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .overview-item-icon svg {
            width: 24px;
            height: 24px;
            stroke: var(--green);
        }

        .overview-item-label {
            font-size: 0.75rem;
            color: var(--gray-500);
            margin-bottom: 0.25rem;
        }

        .overview-item-value {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--gray-900);
        }

        .overview-item-value small {
            font-size: 0.875rem;
            font-weight: 400;
        }

        /* Why Section */
        .why {
            background: var(--white);
        }

        .why-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
        }

        .why-card {
            background: var(--gray-50);
            padding: 2rem;
            border-radius: 16px;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease-out;
        }

        .why-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .why-card:nth-child(2) { transition-delay: 0.1s; }
        .why-card:nth-child(3) { transition-delay: 0.2s; }
        .why-card:nth-child(4) { transition-delay: 0.3s; }

        .why-card.highlight {
            background: var(--gray-50);
            border: 2px solid var(--green);
        }

        .why-card-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .why-card-icon {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .why-card-icon.misato {
            background: rgba(245, 158, 11, 0.1);
        }

        .why-card-icon.misato svg {
            stroke: var(--amber);
        }

        .why-card-icon.facility {
            background: rgba(16, 185, 129, 0.1);
        }

        .why-card-icon.facility svg {
            stroke: var(--green);
        }

        .why-card-title {
            font-size: 1rem;
            font-weight: 700;
            color: var(--gray-900);
        }

        .why-card p {
            font-size: 0.875rem;
            color: var(--gray-600);
            margin-bottom: 1rem;
        }

        .why-card ul {
            list-style: none;
        }

        .why-card ul li {
            font-size: 0.8125rem;
            color: var(--gray-600);
            padding: 0.375rem 0;
            padding-left: 1.25rem;
            position: relative;
        }

        .why-card ul li::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 6px;
            height: 6px;
            background: var(--green);
            border-radius: 50%;
        }

        /* Photos Section */
        .photos {
            background: var(--gray-900);
            color: var(--white);
        }

        .photos .section-label {
            color: var(--green-light);
        }

        .photos .section-title {
            color: var(--white);
        }

        .photos-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }

        .photo-card {
            position: relative;
            aspect-ratio: 4/3;
            background: var(--gray-800);
            border-radius: 12px;
            overflow: hidden;
        }

        .photo-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--gray-500);
        }

        .photo-placeholder svg {
            width: 48px;
            height: 48px;
            margin-bottom: 0.5rem;
            stroke: var(--gray-600);
        }

        .photo-placeholder span {
            font-size: 0.75rem;
        }

        /* Learnings Pinned Section */
        .learnings-pinned {
            background: linear-gradient(135deg, var(--green-dark) 0%, var(--green) 100%);
        }

        .learnings-pinned .pinned-content {
            flex-direction: column;
            padding: 2rem;
        }

        .learnings-container {
            max-width: 1100px;
            width: 100%;
        }

        .learnings-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .learnings-label {
            font-size: 0.75rem;
            font-weight: 600;
            color: rgba(255,255,255,0.8);
            letter-spacing: 0.3em;
            margin-bottom: 1rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease-out;
        }

        .learnings-label.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .learnings-title {
            font-size: clamp(1.75rem, 4vw, 2.5rem);
            font-weight: 900;
            color: var(--white);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease-out 0.1s;
        }

        .learnings-title.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .learnings-carousel {
            position: relative;
            overflow: hidden;
        }

        .learnings-track {
            display: flex;
            transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .learning-slide {
            min-width: 100%;
            padding: 0 2rem;
            display: flex;
            justify-content: center;
        }

        .learning-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 2.5rem;
            max-width: 700px;
            width: 100%;
            opacity: 0;
            transform: scale(0.95);
            transition: all 0.6s ease-out;
        }

        .learning-card.visible {
            opacity: 1;
            transform: scale(1);
        }

        .learning-card-header {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .learning-card-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            overflow: hidden;
            background: rgba(255,255,255,0.2);
            border: 3px solid rgba(255,255,255,0.3);
        }

        .learning-card-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .learning-card-name {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--white);
        }

        .learning-card-role {
            font-size: 0.875rem;
            color: rgba(255,255,255,0.7);
        }

        .learning-card-content h4 {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--white);
            margin-bottom: 1rem;
        }

        .learning-card-content p {
            font-size: 1rem;
            color: rgba(255,255,255,0.9);
            line-height: 1.9;
        }

        .learnings-dots {
            display: flex;
            justify-content: center;
            gap: 0.75rem;
            margin-top: 2rem;
        }

        .learnings-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            cursor: pointer;
            transition: all 0.3s;
        }

        .learnings-dot.active {
            background: var(--white);
            transform: scale(1.2);
        }

        .learnings-nav {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .learnings-nav button {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            border: 2px solid rgba(255,255,255,0.3);
            background: transparent;
            color: var(--white);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .learnings-nav button:hover {
            background: rgba(255,255,255,0.1);
            border-color: rgba(255,255,255,0.5);
        }

        .learnings-nav button svg {
            width: 24px;
            height: 24px;
        }

        /* Outcome Section */
        .outcome {
            background: var(--navy);
            color: var(--white);
            padding: 100px 2rem;
        }

        .outcome .section-label {
            color: var(--green-light);
        }

        .outcome .section-title {
            color: var(--white);
        }

        .outcome-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
        }

        .outcome-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 2rem;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease-out;
        }

        .outcome-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .outcome-card:nth-child(2) { transition-delay: 0.1s; }
        .outcome-card:nth-child(3) { transition-delay: 0.2s; }

        .outcome-card-number {
            width: 40px;
            height: 40px;
            background: var(--green);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.125rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .outcome-card h4 {
            font-size: 1.125rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .outcome-card p {
            font-size: 0.875rem;
            color: var(--gray-400);
            line-height: 1.7;
        }

        /* FAQ Section */
        .faq {
            background: var(--gray-50);
        }

        .faq-list {
            max-width: 800px;
            margin: 0 auto;
        }

        .faq-item {
            background: var(--white);
            border-radius: 12px;
            margin-bottom: 1rem;
            overflow: hidden;
        }

        .faq-question {
            padding: 1.5rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            color: var(--gray-900);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .faq-question::before {
            content: 'Q';
            width: 32px;
            height: 32px;
            background: var(--green);
            color: var(--white);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            flex-shrink: 0;
        }

        .faq-answer {
            padding: 0 2rem 1.5rem 4.5rem;
            font-size: 0.9375rem;
            color: var(--gray-600);
            line-height: 1.8;
        }

        /* CTA Section */
        .cta {
            background: linear-gradient(135deg, var(--green), var(--green-dark));
            color: var(--white);
            text-align: center;
            padding: 80px 2rem;
        }

        .cta-title {
            font-size: clamp(1.5rem, 4vw, 2rem);
            font-weight: 700;
            margin-bottom: 1.5rem;
        }

        .cta-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--white);
            color: var(--green-dark);
            padding: 1rem 2rem;
            text-decoration: none;
            font-weight: 700;
            border-radius: 50px;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        /* Footer */
        .footer {
            background: var(--gray-900);
            color: var(--gray-500);
            padding: 3rem 2rem;
            text-align: center;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .footer-logo img {
            width: 28px;
            height: 28px;
        }

        .footer-logo span {
            font-weight: 600;
            color: var(--white);
            font-size: 0.875rem;
        }

        .footer-copy {
            font-size: 0.75rem;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .overview-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 2rem;
            }

            .outcome-grid {
                grid-template-columns: 1fr;
            }

            .budget-breakdown {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }

        @media (max-width: 768px) {
            .overview-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .why-grid {
                grid-template-columns: 1fr;
            }

            .photos-grid {
                grid-template-columns: 1fr;
            }

            .hero-meta {
                flex-direction: column;
                gap: 1rem;
            }

            .learning-card {
                padding: 1.5rem;
            }

            .learning-card-header {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>

<body>
    <!-- Progress Bar -->
    <div class="progress-bar"></div>

    <!-- Header -->
    <header class="header">
        <div class="header-inner">
            <a href="index.html" class="header-logo">
                <img src="logo.png" alt="創政MISATO">
                <span>創政MISATO</span>
            </a>
            <a href="index.html#activity" class="header-back">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                活動報告に戻る
            </a>
        </div>
    </header>

    <!-- Hero -->
    <section class="hero">
        <div class="hero-content">
            <div class="hero-badge">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                    <circle cx="12" cy="10" r="3"/>
                </svg>
                INSPECTION REPORT
            </div>
            <h1 class="hero-title">ゴミから<span class="highlight">電気</span>をつくる</h1>
            <div class="hero-meta">
                <div class="hero-meta-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                        <line x1="16" y1="2" x2="16" y2="6"/>
                        <line x1="8" y1="2" x2="8" y2="6"/>
                        <line x1="3" y1="10" x2="21" y2="10"/>
                    </svg>
                    2025年1月15日
                </div>
                <div class="hero-meta-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
                        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                        <circle cx="12" cy="10" r="3"/>
                    </svg>
                    東埼玉資源環境組合 第一工場
                </div>
                <div class="hero-meta-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                        <circle cx="9" cy="7" r="4"/>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                    </svg>
                    参加議員 4名
                </div>
            </div>
            <p class="hero-subtitle">三郷市が年間約8億円を負担する広域ごみ処理施設。<br>市民の税金の使途を確認し、議員として説明責任を果たすための視察です。</p>
        </div>
        <div class="scroll-indicator">
            <div class="arrow"></div>
            <span>SCROLL</span>
        </div>
    </section>

    <!-- Overview -->
    <section class="section overview">
        <div class="section-inner">
            <div class="section-header">
                <div class="section-label">OVERVIEW</div>
                <h2 class="section-title">視察の概要</h2>
            </div>
            <div class="overview-grid">
                <div class="overview-item">
                    <div class="overview-item-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke-width="1.5">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                            <line x1="16" y1="2" x2="16" y2="6"/>
                            <line x1="8" y1="2" x2="8" y2="6"/>
                            <line x1="3" y1="10" x2="21" y2="10"/>
                        </svg>
                    </div>
                    <div class="overview-item-label">視察日</div>
                    <div class="overview-item-value">2025年1月15日</div>
                </div>
                <div class="overview-item">
                    <div class="overview-item-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke-width="1.5">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12 6 12 12 16 14"/>
                        </svg>
                    </div>
                    <div class="overview-item-label">視察時間</div>
                    <div class="overview-item-value">約3時間</div>
                </div>
                <div class="overview-item">
                    <div class="overview-item-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke-width="1.5">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                    </div>
                    <div class="overview-item-label">参加人数</div>
                    <div class="overview-item-value">4<small>名</small></div>
                </div>
                <div class="overview-item">
                    <div class="overview-item-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke-width="1.5">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                            <circle cx="12" cy="10" r="3"/>
                        </svg>
                    </div>
                    <div class="overview-item-label">距離</div>
                    <div class="overview-item-value">約15<small>km</small></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Pinned Section -->
    <section class="pinned-section stats-pinned" data-section="stats">
        <div class="pinned-content">
            <div class="stats-container">
                <div class="stats-label">FACILITY DATA</div>
                <h2 class="stats-title">施設のチカラ</h2>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number"><span class="counter" data-target="800">0</span></div>
                        <div class="stat-unit">トン/日</div>
                        <div class="stat-label">処理能力</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number"><span class="counter" data-target="24000">0</span></div>
                        <div class="stat-unit">kW</div>
                        <div class="stat-label">発電出力</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number"><span class="counter" data-target="4">0</span></div>
                        <div class="stat-unit">炉</div>
                        <div class="stat-label">焼却炉数</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number"><span class="counter" data-target="30">0</span></div>
                        <div class="stat-unit">年</div>
                        <div class="stat-label">安定稼働</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Budget Pinned Section -->
    <section class="pinned-section budget-pinned" data-section="budget">
        <div class="pinned-content">
            <div class="budget-container">
                <div class="budget-label">TRANSPARENCY</div>
                <h2 class="budget-title">視察経費の公開</h2>
                <div class="budget-big-number">0<span>円</span></div>
                <p class="budget-subtitle">政務活動費は一切使用していません</p>
                <div class="budget-breakdown">
                    <div class="budget-item">
                        <div class="budget-item-label">交通費</div>
                        <div class="budget-item-value">0円</div>
                    </div>
                    <div class="budget-item">
                        <div class="budget-item-label">宿泊費</div>
                        <div class="budget-item-value">0円</div>
                    </div>
                    <div class="budget-item">
                        <div class="budget-item-label">その他経費</div>
                        <div class="budget-item-value">0円</div>
                    </div>
                </div>
                <div class="budget-note">
                    <p>本視察は三郷市近郊の施設への日帰り視察のため、交通費は各自負担、政務活動費は使用していません。</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Why Section -->
    <section class="section why" data-section="why">
        <div class="section-inner">
            <div class="section-header">
                <div class="section-label">WHY HERE</div>
                <h2 class="section-title">なぜここを視察したのか</h2>
            </div>
            <div class="why-grid">
                <div class="why-card">
                    <div class="why-card-header">
                        <div class="why-card-icon misato">
                            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke-width="1.5">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                                <circle cx="12" cy="10" r="3"/>
                            </svg>
                        </div>
                        <div class="why-card-title">三郷市の現状</div>
                    </div>
                    <p>三郷市は東埼玉資源環境組合の構成市。年間約4万トンのごみ処理を依存しています。</p>
                    <ul>
                        <li>処理費用：年間約8億円の負担</li>
                        <li>施設の老朽化が進行中</li>
                        <li>将来の更新計画への参画が必要</li>
                    </ul>
                </div>
                <div class="why-card">
                    <div class="why-card-header">
                        <div class="why-card-icon facility">
                            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke-width="1.5">
                                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                            </svg>
                        </div>
                        <div class="why-card-title">視察の狙い</div>
                    </div>
                    <p>構成市の議員として、施設運営の実態を把握し、市民への説明責任を果たすため。</p>
                    <ul>
                        <li>処理プロセスの現場確認</li>
                        <li>発電効率と収益構造の把握</li>
                        <li>今後の設備更新計画の確認</li>
                    </ul>
                </div>
                <div class="why-card highlight">
                    <div class="why-card-header">
                        <div class="why-card-icon facility">
                            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke-width="1.5">
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                                <line x1="12" y1="17" x2="12.01" y2="17"/>
                            </svg>
                        </div>
                        <div class="why-card-title">市民からの疑問に答える</div>
                    </div>
                    <p>「税金でどこに視察に行っているのか」という疑問に、根拠をもって説明できるように。</p>
                    <ul>
                        <li>三郷市が負担する施設を議員が知らないのは問題</li>
                        <li>広域連携の課題を現場で確認</li>
                        <li>市民の税金の使途を説明する責務</li>
                    </ul>
                </div>
                <div class="why-card">
                    <div class="why-card-header">
                        <div class="why-card-icon misato">
                            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke-width="1.5">
                                <polyline points="23 4 23 10 17 10"/>
                                <polyline points="1 20 1 14 7 14"/>
                                <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
                            </svg>
                        </div>
                        <div class="why-card-title">三郷市への還元</div>
                    </div>
                    <p>視察で得た知見を、議会質問や政策提言として三郷市に還元します。</p>
                    <ul>
                        <li>ごみ減量施策への提言</li>
                        <li>分別啓発の効果検証</li>
                        <li>広域連携の最適化議論</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Photos Section -->
    <section class="section photos">
        <div class="section-inner">
            <div class="section-header">
                <div class="section-label">PHOTOS</div>
                <h2 class="section-title">現地の様子</h2>
            </div>
            <div class="photos-grid">
                <div class="photo-card">
                    <div class="photo-placeholder">
                        <svg viewBox="0 0 24 24" fill="none" stroke-width="1.5">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            <circle cx="8.5" cy="8.5" r="1.5"/>
                            <polyline points="21 15 16 10 5 21"/>
                        </svg>
                        <span>施設外観</span>
                    </div>
                </div>
                <div class="photo-card">
                    <div class="photo-placeholder">
                        <svg viewBox="0 0 24 24" fill="none" stroke-width="1.5">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            <circle cx="8.5" cy="8.5" r="1.5"/>
                            <polyline points="21 15 16 10 5 21"/>
                        </svg>
                        <span>中央制御室</span>
                    </div>
                </div>
                <div class="photo-card">
                    <div class="photo-placeholder">
                        <svg viewBox="0 0 24 24" fill="none" stroke-width="1.5">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            <circle cx="8.5" cy="8.5" r="1.5"/>
                            <polyline points="21 15 16 10 5 21"/>
                        </svg>
                        <span>ごみピット</span>
                    </div>
                </div>
                <div class="photo-card">
                    <div class="photo-placeholder">
                        <svg viewBox="0 0 24 24" fill="none" stroke-width="1.5">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            <circle cx="8.5" cy="8.5" r="1.5"/>
                            <polyline points="21 15 16 10 5 21"/>
                        </svg>
                        <span>焼却炉</span>
                    </div>
                </div>
                <div class="photo-card">
                    <div class="photo-placeholder">
                        <svg viewBox="0 0 24 24" fill="none" stroke-width="1.5">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            <circle cx="8.5" cy="8.5" r="1.5"/>
                            <polyline points="21 15 16 10 5 21"/>
                        </svg>
                        <span>発電設備</span>
                    </div>
                </div>
                <div class="photo-card">
                    <div class="photo-placeholder">
                        <svg viewBox="0 0 24 24" fill="none" stroke-width="1.5">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            <circle cx="8.5" cy="8.5" r="1.5"/>
                            <polyline points="21 15 16 10 5 21"/>
                        </svg>
                        <span>説明会の様子</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Learnings Pinned Section -->
    <section class="pinned-section learnings-pinned" data-section="learnings">
        <div class="pinned-content">
            <div class="learnings-container">
                <div class="learnings-header">
                    <div class="learnings-label">LEARNINGS</div>
                    <h2 class="learnings-title">議員それぞれの学び</h2>
                </div>
                <div class="learnings-carousel">
                    <div class="learnings-track">
                        <div class="learning-slide">
                            <div class="learning-card">
                                <div class="learning-card-header">
                                    <div class="learning-card-avatar">
                                        <img src="images/satohiroyuki.png" alt="佐藤裕之">
                                    </div>
                                    <div>
                                        <div class="learning-card-name">佐藤 裕之</div>
                                        <div class="learning-card-role">会長</div>
                                    </div>
                                </div>
                                <div class="learning-card-content">
                                    <h4>広域連携のスケールメリット</h4>
                                    <p>5市1町の広域連携により、三郷市単独では実現不可能な規模の施設運営が可能に。特に発電による売電収入が運営コスト削減に大きく寄与していることを確認しました。</p>
                                </div>
                            </div>
                        </div>
                        <div class="learning-slide">
                            <div class="learning-card">
                                <div class="learning-card-header">
                                    <div class="learning-card-avatar">
                                        <img src="images/seiichitakahashi.png" alt="高橋誠一">
                                    </div>
                                    <div>
                                        <div class="learning-card-name">高橋 誠一</div>
                                        <div class="learning-card-role">幹事</div>
                                    </div>
                                </div>
                                <div class="learning-card-content">
                                    <h4>循環型社会の最前線</h4>
                                    <p>ゴミを「負担」ではなく「資源」として活用する発想に感銘を受けました。焼却熱を利用した発電システムは、エネルギーの地産地消モデルとして注目に値します。</p>
                                </div>
                            </div>
                        </div>
                        <div class="learning-slide">
                            <div class="learning-card">
                                <div class="learning-card-header">
                                    <div class="learning-card-avatar">
                                        <img src="images/chihohidaka.png" alt="日高千穂">
                                    </div>
                                    <div>
                                        <div class="learning-card-name">日高 千穂</div>
                                        <div class="learning-card-role">会計</div>
                                    </div>
                                </div>
                                <div class="learning-card-content">
                                    <h4>市民参加の重要性</h4>
                                    <p>施設の効率的な運営は、市民一人ひとりの適切な分別にかかっています。啓発活動の重要性と、その効果を実感しました。</p>
                                </div>
                            </div>
                        </div>
                        <div class="learning-slide">
                            <div class="learning-card">
                                <div class="learning-card-header">
                                    <div class="learning-card-avatar">
                                        <img src="images/suzukiyusaku.png" alt="鈴木優作">
                                    </div>
                                    <div>
                                        <div class="learning-card-name">鈴木 優作</div>
                                        <div class="learning-card-role">議員</div>
                                    </div>
                                </div>
                                <div class="learning-card-content">
                                    <h4>長期視点のインフラ運営</h4>
                                    <p>30年の安定稼働を支える技術と人材。施設の計画的な維持管理と、次世代への引き継ぎについて、長期的な視点の重要性を学びました。</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="learnings-dots">
                    <div class="learnings-dot active" data-index="0"></div>
                    <div class="learnings-dot" data-index="1"></div>
                    <div class="learnings-dot" data-index="2"></div>
                    <div class="learnings-dot" data-index="3"></div>
                </div>
                <div class="learnings-nav">
                    <button class="prev-btn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M15 18l-6-6 6-6"/>
                        </svg>
                    </button>
                    <button class="next-btn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 18l6-6-6-6"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Outcome -->
    <section class="section outcome" data-section="outcome">
        <div class="section-inner">
            <div class="section-header">
                <div class="section-label">OUTCOME</div>
                <h2 class="section-title">視察の成果と今後の提言</h2>
            </div>
            <div class="outcome-grid">
                <div class="outcome-card">
                    <div class="outcome-card-number">1</div>
                    <h4>ごみ減量の推進</h4>
                    <p>三郷市の1人あたりごみ排出量の削減目標を設定し、市民への啓発活動を強化することを提言します。</p>
                </div>
                <div class="outcome-card">
                    <div class="outcome-card-number">2</div>
                    <h4>分別の徹底</h4>
                    <p>適切な分別が施設の効率運営に直結することを市民に周知し、分別ルールの再確認キャンペーンを実施します。</p>
                </div>
                <div class="outcome-card">
                    <div class="outcome-card-number">3</div>
                    <h4>施設見学の推進</h4>
                    <p>小中学校の環境教育の一環として、施設見学を積極的に推進することを教育委員会に提案します。</p>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ -->
    <section class="section faq">
        <div class="section-inner">
            <div class="section-header">
                <div class="section-label">FAQ</div>
                <h2 class="section-title">よくある質問</h2>
            </div>
            <div class="faq-list">
                <div class="faq-item">
                    <div class="faq-question">視察に税金は使われていますか？</div>
                    <div class="faq-answer">本視察では政務活動費は一切使用していません。近隣施設への日帰り視察のため、交通費は各議員の自己負担です。</div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">なぜこの施設を視察先に選んだのですか？</div>
                    <div class="faq-answer">三郷市は東埼玉資源環境組合の構成市として、年間約8億円の処理費用を負担しています。市民の税金がどのように使われているか、議員として把握する責務があると考え、視察先に選びました。</div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">視察の成果はどのように活かされますか？</div>
                    <div class="faq-answer">視察で得た知見は、議会での質問・提言として活用します。具体的には、ごみ減量施策の推進、分別啓発の強化、環境教育の充実などを提案していきます。</div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">視察報告はどこで確認できますか？</div>
                    <div class="faq-answer">本ページにて全ての情報を公開しています。追加の質問がございましたら、お問い合わせフォームよりご連絡ください。</div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA -->
    <section class="cta">
        <h2 class="cta-title">ご意見・ご質問をお寄せください</h2>
        <a href="index.html#contact" class="cta-button">
            お問い合わせ
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
        </a>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-logo">
            <img src="logo.png" alt="創政MISATO">
            <span>創政MISATO</span>
        </div>
        <p class="footer-copy">&copy; 2026 創政MISATO</p>
    </footer>

    <script>
        // Progress Bar & Header
        const progressBar = document.querySelector('.progress-bar');
        const header = document.querySelector('.header');

        // Pinned Sections
        const pinnedSections = document.querySelectorAll('.pinned-section');

        // Learnings Carousel
        const learningsTrack = document.querySelector('.learnings-track');
        const learningsDots = document.querySelectorAll('.learnings-dot');
        const prevBtn = document.querySelector('.prev-btn');
        const nextBtn = document.querySelector('.next-btn');
        let currentSlide = 0;
        const totalSlides = 4;

        function updateCarousel(index) {
            currentSlide = index;
            learningsTrack.style.transform = `translateX(-${currentSlide * 100}%)`;
            learningsDots.forEach((dot, i) => {
                dot.classList.toggle('active', i === currentSlide);
            });
        }

        prevBtn.addEventListener('click', () => {
            updateCarousel((currentSlide - 1 + totalSlides) % totalSlides);
        });

        nextBtn.addEventListener('click', () => {
            updateCarousel((currentSlide + 1) % totalSlides);
        });

        learningsDots.forEach((dot, i) => {
            dot.addEventListener('click', () => updateCarousel(i));
        });

        // Counter Animation
        function animateCounter(element, target) {
            const duration = 2000;
            const start = 0;
            const startTime = performance.now();

            function update(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const easeProgress = 1 - Math.pow(1 - progress, 3);
                const current = Math.floor(start + (target - start) * easeProgress);
                element.textContent = current.toLocaleString();

                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }

            requestAnimationFrame(update);
        }

        // Scroll Animation State
        let statsAnimated = false;
        let budgetAnimated = false;
        let learningsAnimated = false;
        let scrollDirection = 'down';
        let lastScrollY = 0;

        // Check scroll direction
        function checkScrollDirection() {
            const currentScrollY = window.scrollY;
            scrollDirection = currentScrollY > lastScrollY ? 'down' : 'up';
            lastScrollY = currentScrollY;
        }

        // Get section progress (0-1)
        function getSectionProgress(section) {
            const rect = section.getBoundingClientRect();
            const sectionHeight = section.offsetHeight;
            const viewportHeight = window.innerHeight;
            const scrolled = -rect.top;
            const scrollableHeight = sectionHeight - viewportHeight;

            if (scrolled <= 0) return 0;
            if (scrolled >= scrollableHeight) return 1;
            return scrolled / scrollableHeight;
        }

        // Animate Stats Section
        function animateStats(progress) {
            const container = document.querySelector('.stats-container');
            const label = container.querySelector('.stats-label');
            const title = container.querySelector('.stats-title');
            const items = container.querySelectorAll('.stat-item');
            const counters = container.querySelectorAll('.counter');

            if (progress > 0.05) {
                label.classList.add('visible');
            }
            if (progress > 0.1) {
                title.classList.add('visible');
            }
            if (progress > 0.2) {
                items.forEach(item => item.classList.add('visible'));
                if (!statsAnimated) {
                    counters.forEach(counter => {
                        const target = parseInt(counter.dataset.target);
                        animateCounter(counter, target);
                    });
                    statsAnimated = true;
                }
            }
        }

        // Animate Budget Section
        function animateBudget(progress) {
            const container = document.querySelector('.budget-container');
            const label = container.querySelector('.budget-label');
            const title = container.querySelector('.budget-title');
            const bigNumber = container.querySelector('.budget-big-number');
            const subtitle = container.querySelector('.budget-subtitle');
            const items = container.querySelectorAll('.budget-item');
            const note = container.querySelector('.budget-note');

            if (progress > 0.05) {
                label.classList.add('visible');
            }
            if (progress > 0.1) {
                title.classList.add('visible');
            }
            if (progress > 0.2) {
                bigNumber.classList.add('visible');
            }
            if (progress > 0.35) {
                subtitle.classList.add('visible');
            }
            if (progress > 0.5) {
                items.forEach(item => item.classList.add('visible'));
            }
            if (progress > 0.65) {
                note.classList.add('visible');
            }
        }

        // Animate Learnings Section
        function animateLearnings(progress) {
            const container = document.querySelector('.learnings-container');
            const label = container.querySelector('.learnings-label');
            const title = container.querySelector('.learnings-title');
            const cards = container.querySelectorAll('.learning-card');

            if (progress > 0.05) {
                label.classList.add('visible');
            }
            if (progress > 0.1) {
                title.classList.add('visible');
            }
            if (progress > 0.2) {
                cards.forEach(card => card.classList.add('visible'));
            }

            // Auto-advance carousel based on scroll progress
            if (progress > 0.3 && progress < 0.95 && scrollDirection === 'down') {
                const slideProgress = (progress - 0.3) / 0.65;
                const targetSlide = Math.min(Math.floor(slideProgress * totalSlides), totalSlides - 1);
                if (targetSlide !== currentSlide) {
                    updateCarousel(targetSlide);
                }
            }
        }

        // Animate Why Cards
        function animateWhyCards() {
            const whySection = document.querySelector('.why');
            const rect = whySection.getBoundingClientRect();
            const windowHeight = window.innerHeight;

            if (rect.top < windowHeight * 0.8) {
                const cards = whySection.querySelectorAll('.why-card');
                cards.forEach(card => card.classList.add('visible'));
            }
        }

        // Animate Outcome Cards
        function animateOutcomeCards() {
            const outcomeSection = document.querySelector('.outcome');
            const rect = outcomeSection.getBoundingClientRect();
            const windowHeight = window.innerHeight;

            if (rect.top < windowHeight * 0.8) {
                const cards = outcomeSection.querySelectorAll('.outcome-card');
                cards.forEach(card => card.classList.add('visible'));
            }
        }

        // Main scroll handler
        function handleScroll() {
            checkScrollDirection();

            const scrollY = window.scrollY;
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const progress = (scrollY / docHeight) * 100;

            progressBar.style.width = `${progress}%`;

            if (scrollY > 100) {
                header.classList.add('visible');
            } else {
                header.classList.remove('visible');
            }

            // Process pinned sections
            pinnedSections.forEach(section => {
                const sectionType = section.dataset.section;
                const sectionProgress = getSectionProgress(section);

                if (sectionType === 'stats') {
                    animateStats(sectionProgress);
                } else if (sectionType === 'budget') {
                    animateBudget(sectionProgress);
                } else if (sectionType === 'learnings') {
                    animateLearnings(sectionProgress);
                }
            });

            // Animate other sections
            animateWhyCards();
            animateOutcomeCards();
        }

        // Throttle scroll events
        let ticking = false;
        window.addEventListener('scroll', () => {
            if (!ticking) {
                requestAnimationFrame(() => {
                    handleScroll();
                    ticking = false;
                });
                ticking = true;
            }
        });

        // Initial call
        handleScroll();
    </script>
</body>

</html>
